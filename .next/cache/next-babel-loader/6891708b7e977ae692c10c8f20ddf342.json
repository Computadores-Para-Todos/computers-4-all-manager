{"ast":null,"code":"import { User } from \"../../../api/src/models\";\nexport default (async (req, res) => {\n  if (req.body) {\n    const {\n      email\n    } = req.body;\n    const user = await User.findOne({\n      where: {\n        email: req.body.email\n      }\n    });\n  } // if (!user || !encryptCompare(password, user.password_hash))\n  //   return res.status(401).send({ error: 'Login inválido' });\n\n\n  console.log(user); // const token = await jwtSign(user.toJSON(), JWT_SECRET);\n  // res.end({\n  //   user: { email, role: user.role },\n  //   token\n  // });\n});","map":{"version":3,"sources":["/home/vinicius/code/computers-4-all-manager/pages/api/users/login.js"],"names":["User","req","res","body","email","user","findOne","where","console","log"],"mappings":"AAAA,SAASA,IAAT,QAAqB,yBAArB;AAEA,gBAAe,OAAOC,GAAP,EAAYC,GAAZ,KAAoB;AAEjC,MAAGD,GAAG,CAACE,IAAP,EAAY;AACV,UAAM;AAAEC,MAAAA;AAAF,QAAYH,GAAG,CAACE,IAAtB;AACA,UAAME,IAAI,GAAG,MAAML,IAAI,CAACM,OAAL,CAAa;AAAEC,MAAAA,KAAK,EAAE;AAAEH,QAAAA,KAAK,EAAEH,GAAG,CAACE,IAAJ,CAASC;AAAlB;AAAT,KAAb,CAAnB;AACD,GALgC,CAMjC;AACA;;;AAEAI,EAAAA,OAAO,CAACC,GAAR,CAAYJ,IAAZ,EATiC,CAUjC;AACA;AACA;AACA;AACA;AACD,CAfD","sourcesContent":["import { User } from \"../../../api/src/models\";\n\nexport default async (req, res) => {\n  \n  if(req.body){\n    const { email } = req.body\n    const user = await User.findOne({ where: { email: req.body.email } });\n  }\n  // if (!user || !encryptCompare(password, user.password_hash))\n  //   return res.status(401).send({ error: 'Login inválido' });\n  \n  console.log(user)\n  // const token = await jwtSign(user.toJSON(), JWT_SECRET);\n  // res.end({\n  //   user: { email, role: user.role },\n  //   token\n  // });\n}"]},"metadata":{},"sourceType":"module"}